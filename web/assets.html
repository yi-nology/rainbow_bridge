<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>虹桥计划 · 静态资源库</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div class="layout">
      <aside id="sidebar" class="sider"></aside>

      <div class="content">
        <header id="pageHeader"></header>
        <main class="main">
          <section class="panel">
            <div class="panel-header">
              <div class="business-tabs" id="assetBusinessTabs"></div>
              <div class="panel-actions">
                <button id="assetUploadBtn" class="primary">上传静态资源</button>
              </div>
            </div>
            <div class="panel-subheader">
              <span id="assetCount">静态资源列表</span>
              <div class="search">
                <input id="assetSearchInput" type="search" placeholder="搜索文件名 / 业务" />
              </div>
            </div>
            <div class="table-wrapper">
              <table>
                <thead>
                  <tr>
                    <th>文件名</th>
                    <th>业务</th>
                    <th>大小</th>
                    <th>类型</th>
                    <th>备注</th>
                    <th>操作</th>
                  </tr>
                </thead>
                <tbody id="assetTbody"></tbody>
              </table>
              <div id="assetEmpty" class="empty hidden">暂未上传静态资源</div>
            </div>
          </section>

        </main>
      </div>
    </div>

    <div
      id="assetModal"
      class="modal-overlay hidden"
      role="dialog"
      aria-modal="true"
      aria-labelledby="assetModalTitle"
    >
      <div class="modal">
        <div class="modal-header">
          <h3 id="assetModalTitle">上传静态资源</h3>
          <button id="assetModalClose" class="ghost" type="button" data-modal-close>✕</button>
        </div>
        <form id="assetForm" class="modal-form" enctype="multipart/form-data">
          <div class="form-grid">
            <label>业务 *
              <input name="business_key" required data-autofocus placeholder="例如：marketing" />
            </label>
            <label>备注
              <input name="remark" placeholder="可选，补充文件说明" />
            </label>
            <label class="full">文件 *
              <input type="file" name="file" required />
            </label>
          </div>
          <div class="modal-actions">
            <button type="button" class="ghost" id="assetModalCancel" data-modal-close>取消</button>
            <button type="submit" class="primary">上传</button>
          </div>
          <div id="assetUploadResult" class="upload-result hidden"></div>
        </form>
      </div>
    </div>

    <div id="assetToast" class="toast hidden"></div>

    <script type="module" src="./assets.js"></script>
  </body>
</html>
